(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{5891:function(e,t,r){Promise.resolve().then(r.bind(r,2421)),Promise.resolve().then(r.bind(r,9066))},6960:function(e,t,r){"use strict";r.d(t,{BackgroundProvider:function(){return i},h:function(){return o}});var s=r(7437),n=r(2265);let a=(0,n.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,n.useState)(""),[o,l]=(0,n.useState)("cover"),[c,d]=(0,n.useState)("50%"),[u,x]=(0,n.useState)("50%");return(0,n.useEffect)(()=>{let e=localStorage.getItem("backgroundUrl"),t=localStorage.getItem("backgroundSize"),r=localStorage.getItem("positionX"),s=localStorage.getItem("positionY");e&&i(e),t&&l(t),r&&d(r),s&&x(s)},[]),(0,s.jsx)(a.Provider,{value:{backgroundUrl:r,setBackgroundUrl:e=>{i(e),localStorage.setItem("backgroundUrl",e)},backgroundSize:o,setBackgroundSize:e=>{l(e),localStorage.setItem("backgroundSize",e)},positionX:c,setPositionX:e=>{d(e),localStorage.setItem("positionX",e)},positionY:u,setPositionY:e=>{x(e),localStorage.setItem("positionY",e)}},children:t})},o=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useBackground must be used within a BackgroundProvider");return e}},5962:function(e,t,r){"use strict";r.d(t,{R:function(){return d},u:function(){return c}});var s=r(7437),n=r(2265),a=r(8104),i=r(9842),o=r(2421);let l=(0,n.createContext)(void 0),c=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useClassContext must be used within a ClassProvider");return e},d=e=>{let{children:t}=e,{currentUser:r}=(0,o.a)(),[c,d]=(0,n.useState)({}),[u,x]=(0,n.useState)({});(0,n.useEffect)(()=>{if(!r)return;let e=(0,i.JU)(a.R,"users/users/".concat(r.email,"/myclass")),t=(0,i.cf)(e,e=>{if(e.exists()){let t=e.data();d(Object.fromEntries(Object.entries(t).filter(e=>{let[t,r]=e;return r.favorite}).map(e=>{let[t,r]=e;return[t,r]}))),x(Object.fromEntries(Object.entries(t).filter(e=>{let[t,r]=e;return r.myclass}).map(e=>{let[t,r]=e;return[t,r]})))}else d({}),x({})});return()=>t()},[r]);let h=async e=>{if(!r)return;let t=(0,i.JU)(a.R,"class/class/".concat(e,"/detail")),s=await (0,i.QT)(t);if(s.exists()){var n,o;let{cN:t,ins:l,dWk:x,prd:h,trm:m,loc:f}=s.data(),j=!(null===(n=c[e])||void 0===n?void 0:n.favorite),v={cN:t,ins:l,dWk:x,prd:h,trm:m,loc:f,favorite:j,myclass:(null===(o=u[e])||void 0===o?void 0:o.myclass)||!1};if(j||v.myclass){j?d(t=>({...t,[e]:v})):d(t=>{let{[e]:r,...s}=t;return s});let t=(0,i.JU)(a.R,"users/users/".concat(r.email,"/myclass"));await (0,i.pl)(t,{[e]:v},{merge:!0})}else{d(t=>{let{[e]:r,...s}=t;return s});let t=(0,i.JU)(a.R,"users/users/".concat(r.email,"/myclass"));await (0,i.pl)(t,{[e]:(0,i.AK)()},{merge:!0})}}else console.error("Document does not exist")},m=async e=>{if(!r)return;let t=(0,i.JU)(a.R,"class/class/".concat(e,"/detail")),s=await (0,i.QT)(t);if(s.exists()){var n,o;let{cN:t,ins:l,dWk:d,prd:h,trm:m,loc:f}=s.data(),j=!(null===(n=u[e])||void 0===n?void 0:n.myclass),v={cN:t,ins:l,dWk:d,prd:h,trm:m,loc:f,favorite:(null===(o=c[e])||void 0===o?void 0:o.favorite)||!1,myclass:j};if(v.favorite||j){j?x(t=>({...t,[e]:v})):x(t=>{let{[e]:r,...s}=t;return s});let t=(0,i.JU)(a.R,"users/users/".concat(r.email,"/myclass"));await (0,i.pl)(t,{[e]:v},{merge:!0})}else{x(t=>{let{[e]:r,...s}=t;return s});let t=(0,i.JU)(a.R,"users/users/".concat(r.email,"/myclass"));await (0,i.pl)(t,{[e]:(0,i.AK)()},{merge:!0})}}else console.error("Document does not exist")};return(0,s.jsx)(l.Provider,{value:{favoriteClasses:c,myClasses:u,setFavoriteClasses:d,setMyClasses:x,toggleFavorite:h,toggleMyClass:m},children:t})}},8916:function(e,t,r){"use strict";var s=r(7437),n=r(2265),a=r(1326),i=r(1733),o=r(9806),l=r(335),c=r(511),d=r(2197),u=r(8433),x=r(4602),h=r(6463),m=r(8104);t.Z=e=>{let{children:t}=e,r=(0,h.useRouter)(),f=new Date().getFullYear();return(0,n.useEffect)(()=>{let e=m.I.onAuthStateChanged(e=>{e||r.push("/")});return()=>e()},[r]),(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,s.jsx)(i.Z,{position:"static",sx:{background:"linear-gradient(30deg, #6a11cb 0%, #2575fc 100%)"},children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(l.Z,{edge:"start",color:"inherit","aria-label":"back",onClick:()=>r.push("/dashboard"),sx:{mr:2},children:(0,s.jsx)(x.Z,{})}),(0,s.jsx)(c.Z,{variant:"h6",sx:{flexGrow:1,textAlign:"center"},children:"CLASSGU"}),(0,s.jsx)(a.Z,{sx:{width:48}})," "]})}),(0,s.jsx)(a.Z,{component:"main",sx:{flex:1},children:t}),(0,s.jsx)(a.Z,{component:"footer",sx:{background:"linear-gradient(10deg, #303F9F 30%, #039BE5 90%)",color:"#fff",pt:3,pb:2,position:"relative",overflow:"hidden"},children:(0,s.jsxs)(d.Z,{children:[(0,s.jsxs)(u.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,s.jsxs)(u.ZP,{item:!0,xs:12,sm:5,children:[(0,s.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"ClassGU"}),(0,s.jsx)(c.Z,{variant:"body2",children:"This is a learning platform for Gifu University students."})]}),(0,s.jsx)(u.ZP,{item:!0,xs:12,sm:3}),(0,s.jsxs)(u.ZP,{item:!0,xs:12,sm:4,children:[(0,s.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Contact"}),(0,s.jsx)(c.Z,{variant:"body2",children:"developer@sharettle.com"}),(0,s.jsx)(c.Z,{variant:"body2",children:"090-xxxx-xxxx"})]})]}),(0,s.jsx)(a.Z,{mt:5,textAlign:"center",children:(0,s.jsxs)(c.Z,{variant:"body2",sx:{opacity:.6},children:["\xa9 ",f," ClassGU by Sharettle. Developer R.M."]})})]})})]})}},7684:function(e,t,r){"use strict";r.d(t,{U:function(){return l},a:function(){return c}});var s=r(7437),n=r(2265),a=r(8104),i=r(9842);let o=(0,n.createContext)(null),l=()=>(0,n.useContext)(o),c=e=>{let{children:t}=e,[r,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{let e=a.I.currentUser;if(e){let t=e.email,r=(0,i.JU)(a.R,"users/users/".concat(t,"/detail")),s=await (0,i.QT)(r);s.exists()?l(s.data()):l(null)}d(!1)})()},[]);let u=async e=>{let t=a.I.currentUser;if(t){let r=t.email,s=(0,i.JU)(a.R,"users/users/".concat(r,"/detail"));await (0,i.pl)(s,e,{merge:!0}),l(e)}};return(0,s.jsx)(o.Provider,{value:{profile:r,updateProfile:u,loading:c},children:!c&&t})}},2421:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return c}});var s=r(7437),n=r(8104),a=r(5735),i=r(2265);let o=(0,i.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=(0,a.Aj)(n.I,e=>{l(e),d(!1)});return()=>e()},[]),(0,s.jsx)(o.Provider,{value:{currentUser:r,loading:c},children:t})},c=()=>{let e=(0,i.useContext)(o);if(void 0===e)throw Error("useAuth must be used within AuthProvider");return e}},9066:function(e,t,r){"use strict";r.d(t,{default:function(){return ei}});var s=r(8646),n=r(7437),a=r(2265),i=r(8104),o=r(9842),l=r(1326),c=r(4990),d=r(7318),u=r(8916),x=r(6960),h=r(7684),m=r(5962),f=r(3098),j=r(6548),v=r(9009),g=r(5635),b=r(511),Z=r(3983),p=r(8549),y=r(6065),C=r(9004),S=r(6557),w=r(2986);function k(){let e=(0,s._)(["\n  0% { transform: scale(0.5); opacity: 0; }\n  50% { transform: scale(1.5); opacity: 1; }\n  100% { transform: scale(1); opacity: 0; }\n"]);return k=function(){return e},e}let F=(0,f.F4)(k()),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4},I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px"},B=()=>{let[e,t]=(0,a.useState)(!1),r=()=>t(!1);return(0,n.jsxs)("div",{children:[(0,n.jsx)(j.Z,{variant:"text",onClick:()=>t(!0),sx:{textTransform:"none"},children:"GoogleDrive URLの作り方"}),(0,n.jsx)(v.Z,{open:e,onClose:r,closeAfterTransition:!0,children:(0,n.jsx)(g.Z,{in:e,children:(0,n.jsxs)(l.Z,{sx:{...E,width:400},children:[(0,n.jsx)(b.Z,{variant:"h6",component:"h2",children:"Google Driveによる共有のやり方"}),(0,n.jsxs)(l.Z,{mt:2,children:[(0,n.jsx)(b.Z,{children:"1. Google Driveにファイルをアップロードします。"}),(0,n.jsx)(b.Z,{children:"2. アップロードが完了したら、ファイルを右クリックし、「共有」を選択します。"}),(0,n.jsx)(b.Z,{children:"3. 「リンクを取得」をクリックし、「リンクの共有をオンにする」を選択します。"}),(0,n.jsx)(b.Z,{children:"4. 「リンクを知っている全員が閲覧可能」に設定します。"}),(0,n.jsx)(b.Z,{children:"5. 表示されたリンクをコピーして、このフィールドに貼り付けます。"})]}),(0,n.jsx)(j.Z,{variant:"contained",onClick:r,sx:{mt:2},children:"閉じる"})]})})})]})};var P=e=>{let{classId:t,userId:r}=e,[s,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[x,h]=(0,a.useState)(""),[m,f]=(0,a.useState)(""),[k,E]=(0,a.useState)(""),[P,R]=(0,a.useState)(""),[z,D]=(0,a.useState)(""),[U,H]=(0,a.useState)(""),[A,W]=(0,a.useState)(""),[M,T]=(0,a.useState)(null),_=()=>c(!1),V=()=>u(!0),J=()=>u(!1),G=e=>/^https:\/\/drive\.google\.com/.test(e);(0,a.useEffect)(()=>{let e=i.I.onAuthStateChanged(e=>{e?T(e):T(null)});return()=>e()},[]);let L=async()=>{if(!M){alert("ユーザーがログインしていません。");return}if(!P){alert("タイトルは必須です。");return}if(!G(x)){alert("無効なGoogleドライブのURLです。");return}let e=Math.random().toString(36).slice(2,7).toUpperCase(),r="".concat(t,"_").concat(m,"_").concat(e),s="class/class/".concat(t,"/share/"),n={Title:P,comment:z,user:M.uid,share:m,deadline:"report"===m?k:"",whichtest:"test"===m?U:"",when:"test"===m&&"小テスト"!==U?A:"",url:x,createdAt:new Date,path:s};try{let e=(0,o.JU)(i.R,"class/class/".concat(t,"/detail")),a=await (0,o.QT)(e);if(a.exists()){let e=a.data(),t=(null==e?void 0:e.cN)||"";n={...n,cN:t}}await (0,o.pl)((0,o.JU)(i.R,"class/class/".concat(t,"/share")),{[r]:n},{merge:!0}),await (0,o.pl)((0,o.JU)(i.R,"users/users/".concat(M.email,"/share")),{[r]:{path:s,classData:n}},{merge:!0}),_(),V(),h(""),f(""),E(""),R(""),D(""),H(""),W(""),setTimeout(()=>{J(),window.location.reload()},3e3)}catch(e){alert("共有に失敗しました。もう一度お試しください。")}},N=new Date().getFullYear(),Q=Array.from({length:11},(e,t)=>N-t);return(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,n.jsx)(j.Z,{variant:"contained",onClick:()=>c(!0),startIcon:(0,n.jsx)(w.Z,{}),sx:{backgroundColor:"#2196f3",color:"#fff",textTransform:"none",fontSize:"16px",fontWeight:"bold",padding:"12px 24px",borderRadius:"30px",boxShadow:"0 4px 20px rgba(33, 150, 243, 0.3)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#1976d2",boxShadow:"0 6px 25px rgba(33, 150, 243, 0.5)",transform:"translateY(-2px)"},"&:active":{transform:"translateY(1px)"},"& .MuiButton-startIcon":{marginRight:"10px",transition:"transform 0.3s ease"},"&:hover .MuiButton-startIcon":{transform:"rotate(15deg)"},display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative","&::before":{content:'""',position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent)",transform:"rotate(45deg)",animation:"shimmer 3s linear infinite"},"&::after":{content:'""',position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",backgroundColor:"rgba(255, 255, 255, 0.1)",transform:"rotate(45deg)",transition:"all 0.3s ease"},"&:hover::after":{top:"-100%",left:"-100%"},"@keyframes shimmer":{"0%":{transform:"translateX(-100%) rotate(45deg)"},"100%":{transform:"translateX(100%) rotate(45deg)"}}},children:"共有"})}),(0,n.jsx)(v.Z,{open:s,onClose:_,closeAfterTransition:!0,children:(0,n.jsx)(g.Z,{in:s,children:(0,n.jsxs)(l.Z,{sx:{...I,width:400,p:3,borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)(b.Z,{variant:"h6",component:"h2",sx:{mb:2},children:"共有する"}),(0,n.jsx)(Z.Z,{label:"GoogleDrive URL を入力",fullWidth:!0,value:x,onChange:e=>h(e.target.value),sx:{mb:2}}),(0,n.jsx)(B,{}),(0,n.jsxs)(p.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(y.Z,{id:"purpose-label",children:"何を共有しますか？"}),(0,n.jsxs)(C.Z,{labelId:"purpose-label",value:m,onChange:e=>f(e.target.value),label:"目的",children:[(0,n.jsx)(S.Z,{value:"report",children:"レポート・課題"}),(0,n.jsx)(S.Z,{value:"test",children:"過去問"}),(0,n.jsx)(S.Z,{value:"other",children:"その他"})]})]}),"report"===m&&(0,n.jsx)(p.Z,{fullWidth:!0,margin:"dense",sx:{mb:2},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.Z,{label:"提出期限",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:k,onChange:e=>E(e.target.value),sx:{mb:2}}),(0,n.jsx)(j.Z,{variant:"outlined",color:"primary",onClick:e=>E(""),sx:{mt:1},children:"期限なしにする"})]})}),"test"===m&&(0,n.jsxs)(p.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(y.Z,{id:"test-type-label",children:"テストの種類"}),(0,n.jsxs)(C.Z,{labelId:"test-type-label",value:U,onChange:e=>H(e.target.value),label:"テストの種類",children:[(0,n.jsx)(S.Z,{value:"中間テスト",children:"中間テスト"}),(0,n.jsx)(S.Z,{value:"期末テスト",children:"期末テスト"}),(0,n.jsx)(S.Z,{value:"小テスト",children:"小テスト"})]})]}),"test"===m&&U&&"小テスト"!==U&&(0,n.jsxs)(p.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(y.Z,{id:"year-label",children:"年度"}),(0,n.jsxs)(C.Z,{labelId:"year-label",value:A,onChange:e=>W(e.target.value),label:"年度",children:[(0,n.jsx)(S.Z,{value:"",children:"不明です"}),Q.map(e=>(0,n.jsx)(S.Z,{value:e,children:e},e))]})]}),(0,n.jsx)(Z.Z,{label:"タイトル",fullWidth:!0,required:!0,value:P,onChange:e=>R(e.target.value),sx:{mb:2}}),(0,n.jsx)(Z.Z,{label:"コメント",fullWidth:!0,multiline:!0,rows:4,value:z,onChange:e=>D(e.target.value),sx:{mb:2}}),(0,n.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(j.Z,{variant:"contained",startIcon:(0,n.jsx)(w.Z,{}),sx:{mt:2,position:"relative",overflow:"hidden",color:"white",fontWeight:"bold",background:"none","&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",background:P&&G(x)?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"gray",zIndex:-1,transition:"opacity 1.2s",opacity:P&&G(x)?1:0},"&:hover::before":{opacity:(P&&G(x),1)},boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",transition:"transform 0.3s","&:hover":{transform:P&&G(x)?"scale(1.1)":"none"}},onClick:L,disabled:!P||!G(x),children:"共有する"})})]})})}),(0,n.jsx)(v.Z,{open:d,onClose:J,closeAfterTransition:!0,children:(0,n.jsx)(g.Z,{in:d,timeout:{enter:1e3,exit:2e3},children:(0,n.jsxs)(l.Z,{sx:{...I,width:400,p:3,textAlign:"center",background:"linear-gradient(45deg, #FFD700 30%, #FF8C00 90%)",color:"#fff",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"hidden"},children:[(0,n.jsx)(b.Z,{variant:"h5",component:"h2",sx:{mb:2,fontWeight:"bold"},children:"共有していただきありがとうございます。"}),(0,n.jsx)(b.Z,{variant:"body1",sx:{mb:4},children:"ご協力心より感謝いたします。"}),(0,n.jsx)(j.Z,{variant:"contained",onClick:J,sx:{mt:2,bgcolor:"#fff",color:"#FF8C00",fontWeight:"bold",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s, color 0.3s, transform 0.3s","&:hover":{bgcolor:"#FF8C00",color:"#fff",transform:"scale(1.05)"}},children:"閉じる"}),(0,n.jsx)(l.Z,{sx:{position:"absolute",top:"10%",left:"10%",width:"30px",height:"30px",backgroundColor:"white",borderRadius:"50%",animation:"".concat(F," 2s infinite")}}),(0,n.jsx)(l.Z,{sx:{position:"absolute",top:"20%",right:"15%",width:"20px",height:"20px",backgroundColor:"white",borderRadius:"50%",animation:"".concat(F," 2s infinite 0.5s")}}),(0,n.jsx)(l.Z,{sx:{position:"absolute",bottom:"15%",left:"20%",width:"25px",height:"25px",backgroundColor:"white",borderRadius:"50%",animation:"".concat(F," 2s infinite 1s")}})]})})})]})},R=r(2804),z=r(8433),D=r(335),U=r(9216),H=r(4050),A=r(1705),W=r(1704),M=r(4489),T=r(8843),_=r(8125),V=r(1780),J=e=>{let{timestamp:t}=e,r=t?"".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月"):"不明";return(0,n.jsxs)("div",{children:[(0,n.jsxs)(b.Z,{variant:"body2",color:"textSecondary",children:["この情報は",(0,n.jsx)("strong",{children:r}),"に更新されました。"]}),(0,n.jsx)(b.Z,{variant:"body2",color:"textSecondary",children:"さらなる更新が必要な場合は「授業を追加」から更新していただけると幸いです。"})]})},G=r(9434);let L=(0,H.Z)(),N=e=>{let{icon:t,title:r,content:s}=e;return(0,n.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(l.Z,{sx:{color:"#6a11cb",mr:1},children:t}),(0,n.jsxs)(b.Z,{variant:"body2",children:[(0,n.jsxs)("strong",{children:[r,":"]})," ",s]})]})};var Q=e=>{var t;let{classData:r}=e,[s,i]=(0,a.useState)(!1),o=(0,R.Z)(L.breakpoints.down("sm"));return(0,n.jsx)(A.Z,{theme:L,children:(0,n.jsxs)(l.Z,{sx:{bgcolor:"#f5f5f5",p:2,borderRadius:2,position:"relative"},children:[(0,n.jsx)(z.ZP,{container:!0,alignItems:"center",spacing:1,sx:{mb:1},children:(0,n.jsxs)(z.ZP,{item:!0,xs:!0,children:[(0,n.jsx)(b.Z,{variant:o?"h6":"h4",fontWeight:"bold",color:"#6a11cb",sx:{wordBreak:"break-word"},children:r.cN}),r.cNE&&(0,n.jsx)(b.Z,{variant:"body2",color:"text.secondary",children:r.cNE})]})}),(0,n.jsxs)(z.ZP,{container:!0,spacing:.5,children:[(0,n.jsx)(z.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(N,{icon:(0,n.jsx)(W.Z,{}),title:"教授",content:r.ins})}),(0,n.jsx)(z.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(N,{icon:(0,n.jsx)(T.Z,{}),title:"場所",content:r.loc})}),(0,n.jsx)(z.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(N,{icon:(0,n.jsx)(M.Z,{}),title:"時間",content:"".concat(r.dWk,"曜日 / ").concat(r.trm,"学期")})}),(0,n.jsx)(z.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(N,{icon:(0,n.jsx)(V.Z,{}),title:"単位",content:r.crd})})]}),(0,n.jsxs)(z.ZP,{item:!0,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(l.Z,{children:(0,n.jsx)(D.Z,{onClick:()=>{i(!s)},size:"large",sx:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"0.7s",bgcolor:"#6a11cb",color:"white","&:hover":{bgcolor:"#5a0cb8"}},children:(0,n.jsx)(_.Z,{fontSize:"small"})})}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(G._,{classId:r.id})})]}),(0,n.jsxs)(U.Z,{in:s,children:[(0,n.jsx)(d.Z,{sx:{my:2}}),(0,n.jsxs)(z.ZP,{container:!0,spacing:2,children:[(0,n.jsxs)(z.ZP,{item:!0,xs:6,sm:4,children:[(0,n.jsx)(b.Z,{variant:"subtitle2",fontWeight:"bold",children:"学部:"}),(0,n.jsx)(b.Z,{variant:"body2",children:r.dpt})]}),(0,n.jsxs)(z.ZP,{item:!0,xs:6,sm:4,children:[(0,n.jsx)(b.Z,{variant:"subtitle2",fontWeight:"bold",children:"授業形式:"}),(0,n.jsx)(b.Z,{variant:"body2",children:r.fmt})]}),(0,n.jsxs)(z.ZP,{item:!0,xs:6,sm:4,children:[(0,n.jsx)(b.Z,{variant:"subtitle2",fontWeight:"bold",children:"授業コード:"}),(0,n.jsx)(b.Z,{variant:"body2",children:r.rCode})]}),(0,n.jsxs)(z.ZP,{item:!0,xs:6,sm:4,children:[(0,n.jsx)(b.Z,{variant:"subtitle2",fontWeight:"bold",children:"授業カテゴリ:"}),(0,n.jsx)(b.Z,{variant:"body2",children:r.sCat})]}),(0,n.jsxs)(z.ZP,{item:!0,xs:6,sm:4,children:[(0,n.jsx)(b.Z,{variant:"subtitle2",fontWeight:"bold",children:"課程:"}),(0,n.jsx)(b.Z,{variant:"body2",children:r.sCls})]}),r.note&&(0,n.jsxs)(z.ZP,{item:!0,xs:12,children:[(0,n.jsx)(b.Z,{variant:"subtitle2",fontWeight:"bold",children:"備考:"}),(0,n.jsx)(b.Z,{variant:"body2",children:r.note})]})]}),(0,n.jsx)(l.Z,{sx:{mt:2,textAlign:"center"},children:(0,n.jsx)(j.Z,{variant:"contained",color:"primary",href:r.sUrl,target:"_blank",rel:"noopener noreferrer",sx:{bgcolor:"#6a11cb","&:hover":{bgcolor:"#5a0cb8"},maxWidth:{xs:"100%",sm:"50%"}},children:"シラバスを見る"})}),(0,n.jsx)(l.Z,{sx:{mt:2},children:(0,n.jsx)(J,{timestamp:null===(t=r.cAt)||void 0===t?void 0:t.toDate()})})]})]})})},Y=r(9018),O=(0,Y.Z)((0,n.jsx)("path",{d:"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z"}),"DateRange"),X=(0,Y.Z)((0,n.jsx)("path",{d:"M17 10H7v2h10zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zm-5-5H7v2h7z"}),"EventNote"),K=(0,Y.Z)((0,n.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment"),q=r(2879),$=r(7630);let ee=e=>{switch(e){case"report":return" #90CAF9 ";case"test":return"#F48FB1";case"other":return"#FFAB91";default:return"#ECEFF1"}},et=e=>{switch(e){case"report":case"test":case"other":return"#FFFFFF";default:return"#000000"}},er=e=>{switch(e){case"report":return"課題・レポート";case"test":return"過去問";default:return"その他"}};var es=e=>{let{classId:t}=e,[r,s]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[x,h]=(0,a.useState)({});(0,a.useEffect)(()=>{(async()=>{try{let e=(0,o.JU)(i.R,"class/class/".concat(t,"/share")),r=await (0,o.QT)(e);if(!r.exists())return null;{let e=r.data(),t=Object.keys(e).map(t=>({id:t,...e[t]}));s(t)}}catch(e){u("共有されたファイルの取得中にエラーが発生しました。")}})()},[t]);let m=e=>{h(t=>({...t,[e]:!t[e]}))};return(0,n.jsxs)(l.Z,{sx:{mt:3,pb:5},children:[d&&(0,n.jsx)(b.Z,{color:"error",align:"center",children:d}),0===r.length?(0,n.jsx)(b.Z,{variant:"h6",align:"center",children:"あなたの共有をお待ちしております。"}):(0,n.jsx)(z.ZP,{container:!0,spacing:1.5,sx:{maxWidth:"100%"},children:r.map(e=>(0,n.jsx)(z.ZP,{item:!0,xs:4,sm:3,md:3,lg:2,xl:1.5,sx:{display:"flex",minWidth:0},children:(0,n.jsxs)(c.Z,{sx:{p:1.1,width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:ee(e.share),color:et(e.share),transition:"transform 0.2s",borderRadius:2,boxShadow:4,"&:hover":{transform:"scale(1.02)",boxShadow:6},mb:2},children:[(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(b.Z,{variant:"subtitle1",sx:{fontWeight:"bold",fontSize:{xs:"0.6rem",sm:"0.7rem",md:"1rem"}},gutterBottom:!0,children:e.Title}),(0,n.jsx)(b.Z,{variant:"body2",sx:{opacity:1,fontSize:{xs:"0.6rem",sm:"0.7rem",md:"1rem"}},children:er(e.share)}),e.deadline&&(0,n.jsxs)(l.Z,{display:"flex",alignItems:"center",sx:{mt:.2},children:[(0,n.jsx)(O,{sx:{mr:.5,opacity:1,fontSize:{xs:"0.8rem",sm:"0.9rem",md:"1.2rem"}}}),(0,n.jsxs)(b.Z,{variant:"body2",sx:{opacity:1,fontSize:{xs:"0.6rem",sm:"0.7rem",md:"1.0rem"}},children:[" ",e.deadline]})]}),e.whichtest&&(0,n.jsxs)(l.Z,{display:"flex",alignItems:"center",sx:{mt:.2},children:[(0,n.jsx)(X,{sx:{mr:.5,opacity:1,fontSize:{xs:"0.8rem",sm:"0.9rem",md:"1.2rem"}}}),(0,n.jsxs)(b.Z,{variant:"body2",sx:{opacity:1,fontSize:{xs:"0.6rem",sm:"0.7rem",md:"1.0rem"}},children:[e.when,e.whichtest]})]})]}),(0,n.jsxs)(l.Z,{mt:.2,children:[e.url&&(0,n.jsx)(q.Z,{sx:{justifyContent:"center",mt:.1},children:(0,n.jsx)(j.Z,{variant:"outlined",href:e.url,target:"_blank",rel:"noopener noreferrer",size:"medium",sx:{fontSize:{xs:"0.6rem",sm:"0.8rem",md:"1.0rem"},color:"white",border:"1px solid #fff",borderRadius:"15px",px:2,backgroundColor:"","&:hover":{backgroundColor:"rgba(255,255,255,0.2)",border:"#fff"}},children:(0,n.jsx)(b.Z,{sx:{textTransform:"none"},children:"View"})})}),e.comment&&(0,n.jsxs)(l.Z,{sx:{mt:.1},children:[(0,n.jsx)(j.Z,{variant:"text",sx:{color:"#FFFFFF",textTransform:"none",fontWeight:"bold",fontSize:{xs:"0.75rem",md:"0.875rem"},justifyContent:"flex-start","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},onClick:()=>m(e.id),children:x[e.id]?(0,n.jsx)($.Z,{sx:{mr:.5,fontSize:{xs:"1rem",md:"1.2rem"}}}):(0,n.jsx)(K,{sx:{mr:.5,fontSize:{xs:"1rem",md:"1.2rem"}}})}),(0,n.jsx)(U.Z,{in:x[e.id],children:(0,n.jsx)(l.Z,{sx:{mt:1,p:2,backgroundColor:"#FFEBEE",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",position:"relative"},children:(0,n.jsx)(b.Z,{variant:"body2",sx:{color:"#5D4037",lineHeight:1.6},children:e.comment})})})]})]})]})},e.id))})]})};function en(){let e=(0,s._)(["\n  from {\n    transform: scale(0.98);\n    opacity: 0.5;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]);return en=function(){return e},e}let ea=(0,f.F4)(en());var ei=()=>{let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=i.I.onAuthStateChanged(e=>{e?s(e):s(null)});return()=>e()},[]),(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("selectedClassId");if(e){let r=(0,o.JU)(i.R,"class","class",e,"detail"),s=await (0,o.QT)(r);s.exists()&&t({id:e,...s.data()})}})()},[]),e&&r)?(0,n.jsx)(x.BackgroundProvider,{children:(0,n.jsx)(h.a,{children:(0,n.jsx)(m.R,{children:(0,n.jsx)(l.Z,{sx:{animation:"".concat(ea," 0.5s ease-out")},children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(l.Z,{sx:{p:4,mt:.5,background:"linear-gradient(30deg, #89cff0 0%, #1e90ff 100%)",borderRadius:"12px",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3)",animation:"".concat(ea," 0.5s ease-out")},children:(0,n.jsx)(c.Z,{sx:{p:3,mb:3,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"12px"},children:(0,n.jsx)(Q,{classData:e})})}),(0,n.jsxs)(l.Z,{sx:{mb:2},children:[(0,n.jsx)(P,{classId:e.id,userId:r.uid})," "]}),(0,n.jsx)(d.Z,{sx:{my:1}})," ",(0,n.jsx)(l.Z,{sx:{mt:1},children:(0,n.jsx)(es,{classId:e.id})})]})})})})}):null}},9434:function(e,t,r){"use strict";r.d(t,{_:function(){return x},y:function(){return h}});var s=r(7437),n=r(2265),a=r(1326),i=r(335),o=r(374),l=r(7270),c=r(9678),d=r(277),u=r(5962);let x=e=>{var t;let{classId:r}=e,{favoriteClasses:d,toggleFavorite:x}=(0,u.u)(),[h,m]=(0,n.useState)(null),[f,j]=(0,n.useState)("success"),v=()=>{m(null)},g=null===(t=d[r])||void 0===t?void 0:t.favorite;return(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(i.Z,{onClick:()=>{var e;let t=null===(e=d[r])||void 0===e?void 0:e.favorite;x(r),j("success"),m(t?"お気に入りから削除しました":"お気に入りに追加しました")},sx:{background:g?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"linear-gradient(45deg, #9E9E9E 30%, #BDBDBD 90%)",color:"white",transition:"transform 0.2s, background 0.2s","&:hover":{transform:"scale(1.1)",background:g?"linear-gradient(45deg, #FF8E53 30%, #FE6B8B 90%)":"linear-gradient(45deg, #BDBDBD 30%, #9E9E9E 90%)"}},children:(0,s.jsx)(c.Z,{})}),(0,s.jsx)(o.Z,{open:!!h,autoHideDuration:1e3,onClose:v,children:(0,s.jsx)(l.Z,{onClose:v,severity:f,sx:{width:"100%"},children:h})})]})},h=e=>{var t;let{classId:r}=e,{myClasses:c,toggleMyClass:x}=(0,u.u)(),[h,m]=(0,n.useState)(null),[f,j]=(0,n.useState)("success"),v=()=>{m(null)},g=null===(t=c[r])||void 0===t?void 0:t.myclass;return(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(i.Z,{onClick:()=>{var e;let t=null===(e=c[r])||void 0===e?void 0:e.myclass;x(r),j("success"),m(t?"MyClassから削除しました":"MyClassに登録しました")},sx:{background:g?"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)":"linear-gradient(45deg, #9E9E9E 30%, #BDBDBD 90%)",color:"white",transition:"transform 0.2s, background 0.2s","&:hover":{transform:"scale(1.1)",background:g?"linear-gradient(45deg, #21CBF3 30%, #2196F3 90%)":"linear-gradient(45deg, #BDBDBD 30%, #9E9E9E 90%)"}},children:(0,s.jsx)(d.Z,{})}),(0,s.jsx)(o.Z,{open:!!h,autoHideDuration:1e3,onClose:v,children:(0,s.jsx)(l.Z,{onClose:v,severity:f,sx:{width:"100%"},children:h})})]})}},8104:function(e,t,r){"use strict";r.d(t,{I:function(){return o},R:function(){return l}});var s=r(5236),n=r(5735),a=r(9842);let i=(0,s.ZF)({apiKey:"AIzaSyAneuAMMtbBTWg5NDCfRkVG-omGi1TEQUk",authDomain:"class-gu.firebaseapp.com",projectId:"class-gu",storageBucket:"class-gu.appspot.com",messagingSenderId:"849841337368",appId:"1:849841337368:web:22ba3476d680bc0400ff6d",measurementId:"G-1QTNC2Z9B2"}),o=(0,n.v0)(i),l=(0,a.ad)(i)},4602:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},4489:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday")},1780:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard")},8125:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},1704:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},8843:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Place")},2986:function(e,t,r){"use strict";var s=r(3963);t.Z=void 0;var n=s(r(9118)),a=r(7437);t.Z=(0,n.default)((0,a.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share")},1705:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var s=r(2988),n=r(3950),a=r(2265);let i=a.createContext(null);function o(){return a.useContext(i)}var l="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",c=r(7437),d=function(e){let{children:t,theme:r}=e,n=o(),d=a.useMemo(()=>{let e=null===n?r:"function"==typeof r?r(n):(0,s.Z)({},n,r);return null!=e&&(e[l]=null!==n),e},[r,n]);return(0,c.jsx)(i.Provider,{value:d,children:t})},u=r(3209),x=r(4828),h=r(5158),m=r(4866);let f={};function j(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.useMemo(()=>{let a=e&&t[e]||t;if("function"==typeof r){let i=r(a),o=e?(0,s.Z)({},t,{[e]:i}):i;return n?()=>o:o}return e?(0,s.Z)({},t,{[e]:r}):(0,s.Z)({},t,r)},[e,t,r,n])}var v=function(e){let{children:t,theme:r,themeId:s}=e,n=(0,x.Z)(f),a=o()||f,i=j(s,n,r),l=j(s,a,r,!0),v="rtl"===i.direction;return(0,c.jsx)(d,{theme:l,children:(0,c.jsx)(u.T.Provider,{value:i,children:(0,c.jsx)(h.Z,{value:v,children:(0,c.jsx)(m.Z,{value:null==i?void 0:i.components,children:t})})})})},g=r(2737);let b=["theme"];function Z(e){let{theme:t}=e,r=(0,n.Z)(e,b),a=t[g.Z];return(0,c.jsx)(v,(0,s.Z)({},r,{themeId:a?g.Z:void 0,theme:a||t}))}}},function(e){e.O(0,[358,605,988,891,433,968,848,971,23,744],function(){return e(e.s=5891)}),_N_E=e.O()}]);