(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{739:function(e,t,r){Promise.resolve().then(r.bind(r,3270))},3270:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(8646),o=r(7437),a=r(2265),i=r(4050),s=r(1705),l=r(1326),c=r(511),d=r(335),u=r(3983),x=r(6548),f=r(9216),p=r(8104),h=r(9842),m=r(5735),b=r(3098),y=r(6463),g=r(7630);function j(){let e=(0,n._)(["\n  from {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]);return j=function(){return e},e}(0,b.F4)(j());var Z=e=>{let{onSwitch:t,onForgotPassword:r}=e,[n,b]=(0,a.useState)(""),[j,Z]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(!0),[I,A]=(0,a.useState)(!1),k=(0,y.useRouter)(),z=async e=>{e.preventDefault();let t="".concat(n,"@s.gifu-u.ac.jp");try{await (0,m.e5)(p.I,t,j);let e=p.I.currentUser;if(e){let t=e.email,r=(0,h.JU)(p.R,"users","users"),n=(0,h.hJ)(r,t||"");if((await (0,h.PL)(n)).empty){let e=(0,h.JU)(n,"detail");await (0,h.pl)(e,{createdAt:new Date})}}k.push("/dashboard")}catch(e){w("ログインに失敗しました。もう一度お試しください。")}},_=(0,i.Z)({palette:{primary:{main:"#334155"},secondary:{main:"#334155"},background:{default:"#f4f6f8",paper:"#ffffff"},text:{primary:"#334155",secondary:"#64748b"}},typography:{fontFamily:"Roboto, sans-serif",h4:{fontSize:"1.75rem",fontWeight:"bold"}}});return(0,o.jsx)(s.Z,{theme:_,children:(0,o.jsx)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",paddingTop:"10px",paddingBottom:"10px",bgcolor:"background.default",color:"text.primary",overflowX:"hidden"},children:(0,o.jsxs)(l.Z,{sx:{bgcolor:"background.paper",p:4,borderRadius:2,boxShadow:3,textAlign:"center",color:"text.secondary",width:{xs:"80%",sm:"60%",md:"40%"}},children:[(0,o.jsx)(c.Z,{variant:"h4",component:"h2",gutterBottom:!0,children:"ログイン"}),S&&(0,o.jsxs)(l.Z,{sx:{mb:2,bgcolor:"#E0F7FA",p:2,borderRadius:1,position:"relative"},children:[(0,o.jsx)(c.Z,{variant:"body2",color:"primary",children:"アカウントをお持ちでない方は、アカウントを作成してください。"}),(0,o.jsx)(d.Z,{size:"small",onClick:()=>C(!1),sx:{position:"absolute",top:0,right:0},children:(0,o.jsx)(g.Z,{fontSize:"small"})})]}),(0,o.jsxs)("form",{onSubmit:z,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,o.jsx)(u.Z,{label:"yamada.tarou.xx",type:"text",fullWidth:!0,variant:"outlined",value:n,onChange:e=>{b(e.target.value.replace(/[^a-zA-Z0-9._-]/g,""))},required:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover fieldset":{borderColor:"#334155"},"&.Mui-focused fieldset":{borderColor:"#334155"}},"& .MuiInputBase-input":{color:"#334155"},"& .MuiInputLabel-root":{color:"#64748b"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#334155"}}}),(0,o.jsxs)(c.Z,{variant:"body1",children:[n,"@s.gifu-u.ac.jp"]}),(0,o.jsx)(u.Z,{id:"password",type:"password",value:j,label:"Password",variant:"outlined",onChange:e=>Z(e.target.value),required:!0,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover fieldset":{borderColor:"#334155"},"&.Mui-focused fieldset":{borderColor:"#334155"}},"& .MuiInputBase-input":{color:"#334155"},"& .MuiInputLabel-root":{color:"#64748b"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#334155"}}}),(0,o.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",children:"ログイン"}),v&&(0,o.jsx)(c.Z,{variant:"body2",color:"error",children:v})]}),(0,o.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,o.jsx)(x.Z,{variant:"text",color:"primary",onClick:t,children:"アカウント作成"}),(0,o.jsx)(x.Z,{variant:"text",color:"primary",onClick:r,children:"パスワードを忘れた場合"})]}),(0,o.jsxs)(l.Z,{sx:{mt:2},children:[(0,o.jsx)(x.Z,{variant:"text",color:"primary",onClick:()=>A(!I),children:"ヘルプ"}),(0,o.jsx)(f.Z,{in:I,children:(0,o.jsxs)(l.Z,{sx:{mt:2,bgcolor:"#E3F2FD",p:2,borderRadius:1},children:[(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:1},children:(0,o.jsx)("strong",{children:"Q: パスワードは岐阜大学のものですか？"})}),(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:2},children:"A: いいえ、初回のパスワードはアカウント作成時にパスワードを設定するメールが送られてきますので、そちらから設定してください。"}),(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:1},children:(0,o.jsx)("strong",{children:"Q: ログインできません。"})}),(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:2},children:"A: アカウントは作成済みですか？まだの方はアカウントを作成してください。"}),(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:1},children:(0,o.jsx)("strong",{children:"Q: パスワードを忘れました。"})}),(0,o.jsx)(c.Z,{variant:"body2",children:"A: パスワードを忘れた場合はパスワードを再設定できます。この場合はアカウントを登録済みの方のみに再設定用のメールが送られます。"}),(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:1},children:(0,o.jsx)("strong",{children:"Q: アカウント作成後にパスワードを設定するメールが届きません。"})}),(0,o.jsx)(c.Z,{variant:"body2",children:"A: メールが迷惑メールフォルダに振り分けられていないか確認してください。また、メールアドレスを正確に入力したか確認し、それでも届かない場合は、パスワードを再設定してみてください。"})]})})]})]})})})},v=r(9128),w=r(5683);function S(){let e=(0,n._)(["\n  from {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]);return S=function(){return e},e}let C=()=>(0,w.randomBytes)(15).toString("base64").slice(0,30),I=async(e,t,r,n)=>{try{let n=C();await (0,m.Xb)(p.I,e,n),await (0,m.w7)(p.I);for(let e=0;e<=100;e++)setTimeout(()=>t(e),50*e);await new Promise(e=>setTimeout(e,1e3)),await (0,m.LS)(p.I,e),r("アカウントの作成が完了しました。パスワード設定のリンクを送信しました。送られてきたリンクからパスワードを設定してください。")}catch(e){if("auth/email-already-in-use"===e.code){for(let e=0;e<=100;e++)setTimeout(()=>t(e),50*e);r("アカウントの作成が完了しました。パスワード設定のリンクを送信しました。送られてきたリンクからパスワードを設定してください。")}else t(0),r("エラーが発生しました。お手数ですがもう一度お試しください。")}},A=(0,b.F4)(S());var k=e=>{let{onSwitch:t}=e,[r,n]=(0,a.useState)(""),[d,f]=(0,a.useState)(0),[p,h]=(0,a.useState)(""),[m,b]=(0,a.useState)(!1),[g,j]=(0,a.useState)(!1),[Z,w]=(0,a.useState)(!0),S=(0,y.useRouter)(),C=(0,i.Z)({palette:{primary:{main:"#334155"},secondary:{main:"#334155"},background:{default:"#f4f6f8",paper:"#ffffff"},text:{primary:"#334155",secondary:"#64748b"}},typography:{fontFamily:"Roboto, sans-serif",h4:{fontSize:"1.75rem",fontWeight:"bold"}}});return(0,o.jsx)(s.Z,{theme:C,children:(0,o.jsx)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",bgcolor:"background.default",color:"text.primary"},children:(0,o.jsxs)(l.Z,{sx:{bgcolor:"background.paper",p:4,borderRadius:2,boxShadow:3,textAlign:"center",color:"text.secondary",width:{xs:"80%",sm:"60%",md:"40%"}},children:[(0,o.jsx)(c.Z,{variant:"h4",component:"h2",gutterBottom:!0,children:"アカウント作成"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Z&&r&&(b(!0),I("".concat(r,"@s.gifu-u.ac.jp"),f,h,S))},style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,o.jsx)(u.Z,{label:"yamada.tarou.xx",type:"text",fullWidth:!0,variant:"outlined",value:r,onChange:e=>{var t,r;let o=e.target.value.replace(/[^a-zA-Z0-9._-]/g,"");n(o),j(o.includes("@")),w(/^[a-zA-Z0-9._-]+$/.test(o)&&(null!==(r=null===(t=o.match(/[a-zA-Z]/g))||void 0===t?void 0:t.length)&&void 0!==r?r:0)>=5&&/\.[a-zA-Z0-9_-]+$/.test(o)&&/[a-zA-Z0-9_-]+\./.test(o))},disabled:m,sx:{mb:1},helperText:"岐阜大学のメールアドレスを入力してください。@以降は入力しなくて良いです。",error:g,InputProps:{style:{color:"#334155"}},InputLabelProps:{style:{color:"#64748b"}}}),(0,o.jsxs)(c.Z,{variant:"body1",children:[r,"@s.gifu-u.ac.jp"]}),!m&&(0,o.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",disabled:!Z||!r,children:"アカウントを作成"})]}),m&&(0,o.jsxs)(l.Z,{sx:{mt:4,animation:"".concat(A," 0.3s ease-out")},children:[(0,o.jsx)(v.Z,{variant:"determinate",value:d,color:"primary",sx:{height:10,borderRadius:5}}),(0,o.jsx)(c.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"".concat(d,"%")}),100===d&&(0,o.jsx)(c.Z,{variant:"body1",sx:{mt:2},children:p})]}),(0,o.jsx)(x.Z,{variant:"text",color:"primary",onClick:t,sx:{mt:2},children:"ログインに戻る"})]})})})};function z(){let e=(0,n._)(["\n  from {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  to {\n    opacity: 1,\n    transform: scale(1);\n  }\n"]);return z=function(){return e},e}let _=(0,b.F4)(z());var R=e=>{let{onSwitch:t}=e,[r,n]=(0,a.useState)(""),[d,f]=(0,a.useState)(0),[h,b]=(0,a.useState)(""),[y,g]=(0,a.useState)(!1),[j,Z]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!0),C=async e=>{if(e.preventDefault(),w&&r){g(!0);let e="".concat(r,"@s.gifu-u.ac.jp");try{for(let e=0;e<=100;e++)setTimeout(()=>f(e),30*e);await new Promise(e=>setTimeout(e,1e3)),await (0,m.LS)(p.I,e),b("パスワードリセットのメールを送信しました。")}catch(e){f(0),b("エラーが発生しました。お手数ですがもう一度お試しください。")}}},I=(0,i.Z)({palette:{primary:{main:"#334155"},secondary:{main:"#334155"},background:{default:"#f4f6f8",paper:"#ffffff"},text:{primary:"#334155",secondary:"#64748b"}},typography:{fontFamily:"Roboto, sans-serif",h4:{fontSize:"1.75rem",fontWeight:"bold"}}});return(0,o.jsx)(s.Z,{theme:I,children:(0,o.jsx)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",bgcolor:"background.default",color:"text.primary"},children:(0,o.jsxs)(l.Z,{sx:{bgcolor:"background.paper",p:4,borderRadius:2,boxShadow:3,textAlign:"center",color:"text.secondary",width:{xs:"80%",sm:"60%",md:"40%"}},children:[(0,o.jsx)(c.Z,{variant:"h4",component:"h2",gutterBottom:!0,children:"パスワードリセット"}),(0,o.jsxs)("form",{onSubmit:C,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,o.jsx)(u.Z,{label:"yamada.tarou.xx",type:"text",fullWidth:!0,variant:"outlined",value:r,onChange:e=>{var t,r;let o=e.target.value.replace(/[^a-zA-Z0-9._-]/g,"");n(o),Z(o.includes("@")),S(/^[a-zA-Z0-9._-]+$/.test(o)&&(null!==(r=null===(t=o.match(/[a-zA-Z]/g))||void 0===t?void 0:t.length)&&void 0!==r?r:0)>=5&&/\.[a-zA-Z0-9_-]+$/.test(o)&&/[a-zA-Z0-9_-]+\./.test(o))},disabled:y,sx:{mb:1},helperText:"岐阜大学のメールアドレスを入力してください。@以降は入力しなくて良いです。",error:j,InputProps:{style:{color:"#334155"}},InputLabelProps:{style:{color:"#64748b"}}}),(0,o.jsxs)(c.Z,{variant:"body1",children:[r,"@s.gifu-u.ac.jp"]}),!y&&(0,o.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",disabled:!w||!r,children:"送信する"})]}),y&&(0,o.jsxs)(l.Z,{sx:{mt:4,animation:"".concat(_," 0.3s ease-out")},children:[(0,o.jsx)(v.Z,{variant:"determinate",value:d,color:"primary",sx:{height:10,borderRadius:5}}),(0,o.jsx)(c.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"".concat(d,"%")}),100===d&&(0,o.jsx)(c.Z,{variant:"body1",sx:{mt:2},children:h})]}),(0,o.jsx)(x.Z,{variant:"text",color:"primary",onClick:t,sx:{mt:2},children:"ログインに戻る"})]})})})},D=r(1733),F=r(9806),M=r(4602),P=r(6154);function T(){let e=(0,n._)(["\n  from {\n    opacity: 0.9;\n    transform: scale(1);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]);return T=function(){return e},e}let B=(0,b.F4)(T()),O=(0,P.Z)(D.Z)({boxShadow:"none",height:55,zIndex:1}),W=(0,P.Z)(F.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(30deg, #6a11cb 0%, #2575fc 100%)"}),E=(0,P.Z)("footer")({padding:"1rem 0",textAlign:"center",background:"#2E3B55",color:"#fff",width:"100%",height:64,position:"relative",zIndex:1});var L=()=>{let[e,t]=(0,a.useState)("login"),[r,n]=(0,a.useState)(0),i=(0,y.useRouter)(),s=e=>{t(e),n(e=>e+1)},u=new Date().getFullYear();return(0,o.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",minHeight:"100vh",color:"#fff",fontFamily:"Arial, sans-serif",overflowX:"hidden",margin:0,padding:0},children:[(0,o.jsx)(O,{position:"fixed",sx:{top:0,left:0,right:0},children:(0,o.jsxs)(W,{children:[(0,o.jsx)(d.Z,{color:"inherit",onClick:()=>{i.push("/")},children:(0,o.jsx)(M.Z,{})}),(0,o.jsx)(c.Z,{variant:"h6",sx:{flexGrow:1,textAlign:"center"},children:"ClassGU"}),(0,o.jsx)(l.Z,{sx:{width:48}})," "]})}),(0,o.jsxs)(l.Z,{sx:{animation:"".concat(B," 0.5s ease-out"),flex:1,overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 128px)",padding:"0px",width:"100%",paddingTop:"64px",boxSizing:"border-box"},children:["login"===e&&(0,o.jsx)(Z,{onSwitch:()=>s("register"),onForgotPassword:()=>s("forgotPassword")}),"register"===e&&(0,o.jsx)(k,{onSwitch:()=>s("login")}),"forgotPassword"===e&&(0,o.jsx)(R,{onSwitch:()=>s("login")})]},r),(0,o.jsx)(E,{children:(0,o.jsxs)(c.Z,{variant:"body2",children:["\xa9 ",u," ClassGU. Developer R.M."]})})]})}},8104:function(e,t,r){"use strict";r.d(t,{I:function(){return s},R:function(){return l}});var n=r(5236),o=r(5735),a=r(9842);let i=(0,n.ZF)({apiKey:"AIzaSyAneuAMMtbBTWg5NDCfRkVG-omGi1TEQUk",authDomain:"class-gu.firebaseapp.com",projectId:"class-gu",storageBucket:"class-gu.appspot.com",messagingSenderId:"849841337368",appId:"1:849841337368:web:22ba3476d680bc0400ff6d",measurementId:"G-1QTNC2Z9B2"}),s=(0,o.v0)(i),l=(0,a.ad)(i)}},function(e){e.O(0,[358,605,218,988,891,151,971,23,744],function(){return e(e.s=739)}),_N_E=e.O()}]);